(()=>{(()=>{"use strict";let L=window.matchMedia("(prefers-reduced-motion: reduce)").matches,i=document.querySelector(".site-header"),u=()=>{if(!i)return 0;let e=getComputedStyle(i).position;return e==="fixed"||e==="sticky"?i.offsetHeight:0};document.addEventListener("click",e=>{let t=e.target.closest('a[href^="#"]');if(!t)return;let n=t.getAttribute("href");if(!n||n==="#")return;let o=document.querySelector(n);if(!o||t.origin!==window.location.origin||t.pathname!==window.location.pathname)return;e.preventDefault();let r=Math.max(0,o.getBoundingClientRect().top+window.scrollY-u()-8);L?window.scrollTo(0,r):window.scrollTo({top:r,behavior:"smooth"}),history.pushState?history.pushState(null,"",n):window.location.hash=n;let w=o.getAttribute("tabindex");o.setAttribute("tabindex","-1"),o.focus({preventScroll:!0}),o.addEventListener("blur",()=>{w===null?o.removeAttribute("tabindex"):o.setAttribute("tabindex",w)},{once:!0})});let d="en",S=(navigator.language||navigator.userLanguage||"en").toLowerCase().startsWith("da")?"da":"en",b=(()=>{try{let e=new URL(window.location.href).searchParams.get("lang");return e==="en"||e==="da"?e:null}catch{return null}})(),y=localStorage.getItem("siteLang"),E=b||y||S||d,s=document.querySelectorAll(".lang-switch [data-lang]"),k=document.querySelectorAll(".lang"),q=document.documentElement,c=document.querySelector('meta[name="description"]'),g={en:"Grace Duquiza Olesen \u2014 Portfolio",da:"Grace Duquiza Olesen \u2014 Portfolio"},f={en:"Portfolio of Grace Duquiza Olesen \u2014 projects in web development and software engineering: Sudoku Learn (Vanilla JS), Danish Vocab Trainer, Siomai Cart Sarap, and more.",da:"Portfolio af Grace Duquiza Olesen \u2014 projekter i webudvikling og software engineering: Sudoku Learn (Vanilla JS), Dansk Vocab Trainer, Siomai Cart Sarap m.m."};function m(e){q.lang=e,localStorage.setItem("siteLang",e),k.forEach(t=>{let n=t.classList.contains("lang-"+e);t.classList.toggle("hidden",!n)}),s.forEach(t=>{let n=t.dataset.lang===e;t.classList.toggle("active",n),t.setAttribute("aria-pressed",String(n))}),document.title!==g[e]&&(document.title=g[e]),c&&c.content!==f[e]&&c.setAttribute("content",f[e])}s.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault(),m(e.dataset.lang)})}),m(E);let a=["#about","#projects","#contact"].map(e=>document.querySelector(e)).filter(Boolean);function h(){let e=localStorage.getItem("siteLang")||d,t=document.querySelector(`nav[aria-label="Primary"] ul.lang-${e}:not(.hidden)`)||document,n=new Map;return t.querySelectorAll('a[href^="#"]').forEach(o=>n.set(o.getAttribute("href"),o)),n}let l=h();s.forEach(e=>e.addEventListener("click",()=>{l=h()}));let p=e=>{l.forEach(n=>n.classList.remove("is-active"));let t=l.get("#"+e);t&&t.classList.add("is-active")};if("IntersectionObserver"in window&&a.length){let e=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&p(n.target.id)})},{rootMargin:"-30% 0px -60% 0px",threshold:.01});a.forEach(t=>e.observe(t))}else{let e=()=>{var o;let t=window.scrollY+u()+40,n=((o=a[0])==null?void 0:o.id)||"about";for(let r of a)if(r.offsetTop<=t)n=r.id;else break;p(n)};document.addEventListener("scroll",e,{passive:!0}),e()}let v=document.querySelector(".lang-switch")&&document.querySelector(".lang-switch").closest("nav")||null;if(v){let e=()=>{v.classList.toggle("elevated",window.scrollY>8)};document.addEventListener("scroll",e,{passive:!0}),e()}})();})();
